# ===============================================
# WhatsHybrid Backend - Environment Configuration
# ===============================================
# ⚠️ SEGURANÇA: NUNCA COMMITE ESTE ARQUIVO COM CREDENCIAIS REAIS!
# Copie este arquivo para .env e preencha as variáveis

# ============ SERVER ============
NODE_ENV=development
PORT=3000

# ============ DATABASE ============
# SQLite (padrão) - o arquivo será criado automaticamente
DATABASE_PATH=./data/whatshybrid.db

# PostgreSQL (opcional - requer alteração em src/utils/database.js)
# DATABASE_URL=postgresql://user:password@localhost:5432/whatshybrid

# ============ AUTHENTICATION ============
# ⚠️ CRÍTICO: Gere um JWT_SECRET seguro com no mínimo 64 caracteres!
# Comando para gerar: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_AT_LEAST_64_CHARACTERS
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ============ RATE LIMITING ============
# Valores para PRODUÇÃO (mais restritivos)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
# Número máximo de tentativas de login por 15 minutos
AUTH_RATE_LIMIT_MAX=5
AUTH_RATE_LIMIT_WINDOW_MS=900000

# ============ AI PROVIDERS ============
# OpenAI - Para GPT-4, Whisper (transcrição de áudio)
# ⚠️ Mantenha esta chave SECRETA! Rotacione regularmente.
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic - Para Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# Groq - Para Llama (ultra-rápido, recomendado)
GROQ_API_KEY=gsk_your-groq-api-key

# Venice AI
VENICE_API_KEY=your-venice-api-key

# Google - Para Gemini e Vision API (OCR)
GOOGLE_API_KEY=your-google-api-key
GOOGLE_VISION_API_KEY=your-google-vision-api-key

# ============ AI DEFAULTS ============
DEFAULT_AI_PROVIDER=groq
OPENAI_DEFAULT_MODEL=gpt-4o-mini
ANTHROPIC_DEFAULT_MODEL=claude-3-5-sonnet-20241022
GROQ_DEFAULT_MODEL=llama-3.3-70b-versatile
VENICE_DEFAULT_MODEL=llama-3.3-70b

# ============ CORS ============
# ⚠️ Em PRODUÇÃO, especifique domínios permitidos separados por vírgula:
# Exemplo: CORS_ORIGIN=https://app.whatshybrid.com,chrome-extension://YOUR_EXTENSION_ID
CORS_ORIGIN=*

# ============ LOGGING ============
LOG_LEVEL=info

# ============ WEBHOOKS ============
# Secrets para validação de webhooks de pagamento
WEBHOOK_SECRET=your-webhook-secret
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret
MERCADOPAGO_WEBHOOK_SECRET=your-mercadopago-webhook-secret
PAGSEGURO_WEBHOOK_SECRET=your-pagseguro-webhook-secret

# ============ EMAIL (SMTP) ============
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASS=your-email-password
SMTP_FROM=noreply@whatshybrid.com

# ============ STRIPE (Payments) ============
STRIPE_SECRET_KEY=sk_test_your-stripe-key

# ============ REDIS (Cache - Optional) ============
# REDIS_URL=redis://localhost:6379

# ============ SENTRY (Error Tracking - Optional) ============
# SENTRY_DSN=https://your-sentry-dsn

# ============ DEFAULT USER (Only for Development!) ============
# ⚠️ NUNCA use em produção! Altere a senha imediatamente.
DEFAULT_USER_EMAIL=admin@whatshybrid.com
DEFAULT_USER_PASSWORD=CHANGE_THIS_PASSWORD_IMMEDIATELY
